{"version":3,"sources":["reducers/drawingReducer.js","reducers/filtersReducer.js","reducers/parametersReducer.js","reducers/index.js","reducers/contacts.js","store.js","actions/index.js","components/MainPage/Header.js","components/MainPage/Links.js","components/MainPage/Footer.js","components/MainPage/MainPage.js","components/Filters/filtersHelpers.js","components/Filters/FiltersImages.js","components/Filters/Filters.js","components/Drawing/drawingHelpers.js","components/Drawing/DrawingCanvas.js","components/Drawing/DrawingButtons.js","components/Drawing/Drawing.js","components/ChangeParameters/CpHeader.js","components/ChangeParameters/CpParameters.js","components/ChangeParameters/cpModifiers.js","components/ChangeParameters/CpCanvas.js","components/ChangeParameters/CpChooseImage.js","components/ChangeParameters/ChangeParameters.js","components/Filters/FiltersView.js","components/App.js","components/Root.js","index.js"],"names":["SET_DRAW_MODE","SET_PAINT_SIZE","SET_COLOR","SET_CANVAS_REF","CHANGE_FILL_MODE","DRAW","LINE","RECTANGLE","CIRCLE","TRIANGLE","SET_SELECTED_FILTER","SET_IMAGE_URL","SET_IMAGE_DIMENSIONS","SET_BRIGHTNESS","SET_CONTRAST","SET_SATURATION","SET_VIGNETTING","SET_NUMBER_OF_SHADES","SET_BLACK_AND_WHITE","SET_INVERTED_COLOR","RESET_PARAMETERS","SET_IS_LOADED","SET_ABLE_TO_CHANGE","combineReducers","contacts","state","arguments","length","undefined","action","type","Object","toConsumableArray","drawing","objectSpread","drawMode","paintSize","color","canvasRef","reference","isFill","filters","selectedFilter","imageURL","width","height","parameters","brightness","contrast","saturation","vignetting","numberOfShades","blackAndWhite","invertedColor","isLoaded","ableToChange","initialState","store","createStore","reducers","resetParameters","Header","react_default","a","createElement","reactstrap_es","className","Component","Links","md","lg","Link","to","Footer","href","MainPage","fluid","MainPage_Header","components_MainPage_Links","MainPage_Footer","filtersList","name","specification","FiltersImages","imageTileRenderer","_this","props","map","filter","xs","key","onClick","setSelectedFilter","style","src","alt","this","connect","dispatch","library","add","faAngleLeft","Filters","handleImageChange","e","preventDefault","reader","FileReader","file","target","files","getImageSize","onloadend","setImageURL","result","readAsDataURL","url","URL","createObjectURL","image","Image","onload","setImageDimensions","imageView","components_Filters_FiltersImages","react_fontawesome_index_es","icon","onChange","strokeOrFill","context","fill","stroke","drawingHelpers","getRealCoords","canvas","event","_getPositionOf","element","top","left","obj","tagName","offsetTop","scrollTop","offsetLeft","scrollLeft","offsetParent","getPositionOf","x","pageX","y","pageY","canvasDownloadPopup","toDataURL","replace","downloadLink","document","download","body","appendChild","click","removeChild","draw","mousePosition","lineTo","drawLine","startPosition","beginPath","moveTo","closePath","drawRectangle","rect","drawCircle","r","Math","sqrt","pow","arc","PI","drawTriangle","calcCanvasSize","window","paddings","innerWidth","innerHeight","setDefaultContextValues","strokeStyle","lineWidth","lineJoin","lineCap","clearCanvas","getContext","clearRect","fillStyle","fillRect","DrawingCanvas","_Component","_getPrototypeOf2","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","canvasTemp","ctx","ctxTemp","canvasSize","mouseDown","updateWindowDimensions","setState","helpers","refs","mouseMove","_this$props$drawing","mouseUp","includes","drawImage","inherits","createClass","value","setCanvasReference","_this$props$drawing2","_this$props$drawing3","_this$state$canvasSiz","ref","onMouseDown","onMouseMove","onMouseUp","faPencilAlt","faMinus","faCircle","faSquare","faCaretUp","faVectorSquare","faSquareFull","faTrashAlt","DrawingButtons","changeDrawMode","mode","setDrawMode","changePaintSize","setPaintSize","changeColor","setColor","changeFillMode","saveAsJpg","_this2","id","min","max","title","data-mode","Drawing","components_Drawing_DrawingButtons","components_Drawing_DrawingCanvas","CpHeader","CpParameters","changeBrightness","setBrightness","changeContrast","setContrast","changeSaturation","setSaturation","changeVignetting","setVignetting","changeNumberOfShades","setNumberOfShades","changeBlackAndWhite","setBlackAndWhite","checked","changeInvertedColor","setInvertedColor","setAbleToChange","_this$props$parameter","for","onDoubleClick","class","step","disabled","onInput","parseInt","parseFloat","truncate","modifyBrightness","g","b","modifyContrast","factor","modifySaturation","P","modifyNumberOfShades","conversionFactor","gray","modifyBlackAndWhite","modifyInvertedColor","CpCanvas","img","gradient","createRadialGradient","addColorStop","modifyVignetting","imgData","getImageData","values","arrayPixels","i","iteratePixels","data","putImageData","CpChooseImage","imageViewUrl","setIsLoaded","_this3","$imageView","components_ChangeParameters_CpCanvas","onSubmit","_handleSubmit","_handleImageChange","ChangeParameters","components_ChangeParameters_CpHeader","xl","components_ChangeParameters_CpParameters","ChangeParameters_CpChooseImage","faLongArrowAltRight","FiltersView","history","push","_this$props$filters","App","Route","path","exact","strict","component","mapDispatchToProps","contactsFetched","withRouter","Root","es","HashRouter","basename","process","src_components_App","ReactDOM","render","components_Root","getElementById"],"mappings":"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","file":"static/js/main.a42e1292.chunk.js","sourcesContent":["export const SET_DRAW_MODE = 'SET_DRAW_MODE';\r\nexport const SET_PAINT_SIZE = 'SET_PAINT_SIZE';\r\nexport const SET_COLOR = 'SET_COLOR';\r\nexport const SET_CANVAS_REF = 'SET_CANVAS_REF';\r\nexport const CHANGE_FILL_MODE = 'CHANGE_FILL_MODE';\r\n\r\nexport const DRAW = 'draw';\r\nexport const LINE = 'line';\r\nexport const RECTANGLE = 'rectangle';\r\nexport const CIRCLE = 'circle';\r\nexport const TRIANGLE = 'triangle';\r\n\r\nexport const drawingReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case SET_DRAW_MODE:\r\n      return { ...state, drawMode: action.drawMode };\r\n    case SET_PAINT_SIZE:\r\n      return { ...state, paintSize: action.paintSize };\r\n    case SET_COLOR:\r\n      return { ...state, color: action.color };\r\n    case SET_CANVAS_REF:\r\n      return { ...state, canvasRef: action.reference };\r\n    case CHANGE_FILL_MODE:\r\n      return { ...state, isFill: !state.isFill };\r\n    default:\r\n      return state\r\n  }\r\n};\r\n","export const SET_SELECTED_FILTER = 'SET_SELECTED_FILTER';\r\nexport const SET_IMAGE_URL = 'SET_IMAGE_URL';\r\nexport const SET_IMAGE_DIMENSIONS = 'SET_IMAGE_DIMENSIONS';\r\n\r\nexport const filtersReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case SET_SELECTED_FILTER:\r\n      return { ...state, selectedFilter: action.selectedFilter };\r\n    case SET_IMAGE_URL:\r\n      return { ...state, imageURL: action.imageURL };\r\n    case SET_IMAGE_DIMENSIONS:\r\n      return { ...state, width: action.width, height: action.height };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const SET_BRIGHTNESS = 'SET_BRIGHTNESS';\r\nexport const SET_CONTRAST = 'SET_CONTRAST';\r\nexport const SET_SATURATION = 'SET_SATURATION';\r\nexport const SET_VIGNETTING = 'SET_VIGNETTING';\r\nexport const SET_NUMBER_OF_SHADES = 'SET_NUMBER_OF_SHADES';\r\nexport const SET_BLACK_AND_WHITE = 'SET_BLACK_AND_WHITE';\r\nexport const SET_INVERTED_COLOR = 'SET_INVERTED_COLOR';\r\nexport const RESET_PARAMETERS = 'RESET_PARAMETERS';\r\nexport const SET_IS_LOADED = 'SET_IS_LOADED';\r\nexport const SET_ABLE_TO_CHANGE = 'SET_ABLE_TO_CHANGE';\r\n\r\n    export const parametersReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case SET_BRIGHTNESS:\r\n      return { ...state, brightness: action.brightness };\r\n    case SET_CONTRAST:\r\n      return { ...state, contrast: action.contrast };\r\n    case SET_SATURATION:\r\n      return { ...state, saturation: action.saturation };\r\n    case SET_VIGNETTING:\r\n      return { ...state, vignetting: action.vignetting };\r\n    case SET_NUMBER_OF_SHADES:\r\n      return { ...state, numberOfShades: action.numberOfShades };\r\n    case SET_BLACK_AND_WHITE:\r\n      return { ...state, blackAndWhite: action.blackAndWhite };\r\n    case SET_INVERTED_COLOR:\r\n      return { ...state, invertedColor: action.invertedColor };\r\n    case RESET_PARAMETERS:\r\n      return {\r\n        ...state,\r\n        brightness: 0,\r\n        contrast: 0,\r\n        saturation: 1.0,\r\n        vignetting: 0,\r\n        numberOfShades: 0,\r\n        blackAndWhite: false,\r\n      };\r\n    case SET_IS_LOADED:\r\n      return { ...state, isLoaded: action.isLoaded };\r\n    case SET_ABLE_TO_CHANGE:\r\n      return { ...state, ableToChange: action.ableToChange };\r\n\r\n    default:\r\n      return state\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { contacts } from \"./contacts\";\r\nimport { drawingReducer } from \"./drawingReducer\";\r\nimport { filtersReducer } from \"./filtersReducer\";\r\nimport { parametersReducer } from \"./parametersReducer\";\r\n\r\n\r\nexport default combineReducers({\r\n  contacts,\r\n  drawing: drawingReducer,\r\n  filters: filtersReducer,\r\n  parameters: parametersReducer,\r\n});\r\n","export const contacts = (state = [], action) => { // (1)\r\n  switch (action.type) { // (2)\r\n    case 'FETCH_CONTACTS_SUCCESS':\r\n      return [\r\n        ...action.contacts\r\n      ]\r\n    default:\r\n      return state\r\n  }\r\n}","import { createStore } from 'redux';\r\nimport reducers from './reducers/index';\r\nimport { DRAW } from './reducers/drawingReducer';\r\n\r\nconst initialState = {\r\n  drawing: {\r\n    drawMode: DRAW,\r\n    paintSize: 10,\r\n    color: '#6edb31',\r\n    canvasRef: null,\r\n    isFill: false,\r\n  },\r\n  filters: {\r\n    selectedFilter: null,\r\n    imageURL: null,\r\n    width: null,\r\n    height: null,\r\n  },\r\n  parameters: {\r\n    brightness: 0,\r\n    contrast: 0,\r\n    saturation: 1.0,\r\n    vignetting: 0,\r\n    numberOfShades: 0,\r\n    blackAndWhite: false,\r\n    invertedColor: false,\r\n    isLoaded: false,\r\n    ableToChange: true,\r\n  }\r\n};\r\n\r\nexport const store = createStore(reducers, initialState);\r\n","import {\r\n  SET_DRAW_MODE,\r\n  SET_PAINT_SIZE,\r\n  SET_COLOR,\r\n  SET_CANVAS_REF, CHANGE_FILL_MODE,\r\n} from '../reducers/drawingReducer';\r\n\r\nimport {\r\n  SET_IMAGE_DIMENSIONS,\r\n  SET_IMAGE_URL,\r\n  SET_SELECTED_FILTER,\r\n} from '../reducers/filtersReducer';\r\n\r\nimport {\r\n  SET_BRIGHTNESS,\r\n  SET_CONTRAST,\r\n  SET_SATURATION,\r\n  SET_VIGNETTING,\r\n  SET_NUMBER_OF_SHADES,\r\n  SET_BLACK_AND_WHITE,\r\n  SET_INVERTED_COLOR,\r\n  RESET_PARAMETERS,\r\n  SET_IS_LOADED,\r\n  SET_ABLE_TO_CHANGE,\r\n} from '../reducers/parametersReducer';\r\n\r\nexport const contactsFetched = (contacts) => ({\r\n  type: 'FETCH_CONTACTS_SUCCESS',\r\n  contacts\r\n});\r\n\r\n/////Drawing\r\nexport function setDrawMode(drawMode) {\r\n  return {\r\n    type: SET_DRAW_MODE,\r\n    drawMode: drawMode,\r\n  };\r\n}\r\n\r\nexport function setPaintSize(paintSize) {\r\n  return {\r\n    type: SET_PAINT_SIZE,\r\n    paintSize: paintSize,\r\n  };\r\n}\r\n\r\nexport function setColor(color) {\r\n  return {\r\n    type: SET_COLOR,\r\n    color: color,\r\n  };\r\n}\r\n\r\nexport function setCanvasReference(reference) {\r\n  return {\r\n    type: SET_CANVAS_REF,\r\n    reference: reference,\r\n  };\r\n}\r\n\r\n\r\nexport function changeFillMode() {\r\n  return {\r\n    type: CHANGE_FILL_MODE,\r\n  };\r\n}\r\n\r\n\r\n/////Filters\r\nexport function setImageURL(imageURL) {\r\n  return {\r\n    type: SET_IMAGE_URL,\r\n    imageURL: imageURL,\r\n  };\r\n}\r\n\r\nexport function setImageDimensions(width, height) {\r\n  return {\r\n    type: SET_IMAGE_DIMENSIONS,\r\n    width,\r\n    height,\r\n  };\r\n}\r\n\r\nexport function setSelectedFilter(selectedFilter) {\r\n  return {\r\n    type: SET_SELECTED_FILTER,\r\n    selectedFilter: selectedFilter,\r\n  };\r\n}\r\n\r\n/////Parameters\r\nexport function setBrightness(brightness) {\r\n  return {\r\n    type: SET_BRIGHTNESS,\r\n    brightness: parseInt(brightness),\r\n  };\r\n}\r\n\r\n\r\nexport function setContrast(contrast) {\r\n  return {\r\n    type: SET_CONTRAST,\r\n    contrast: parseInt(contrast),\r\n  };\r\n}\r\n\r\n\r\nexport function setSaturation(saturation) {\r\n  return {\r\n    type: SET_SATURATION,\r\n    saturation: parseFloat(saturation),\r\n  };\r\n}\r\n\r\n\r\nexport function setVignetting(vignetting) {\r\n  return {\r\n    type: SET_VIGNETTING,\r\n    vignetting: parseFloat(vignetting),\r\n  };\r\n}\r\n\r\n\r\nexport function setNumberOfShades(numberOfShades) {\r\n  return {\r\n    type: SET_NUMBER_OF_SHADES,\r\n    numberOfShades: parseFloat(numberOfShades),\r\n  };\r\n}\r\n\r\nexport function setBlackAndWhite(blackAndWhite) {\r\n  return {\r\n    type: SET_BLACK_AND_WHITE,\r\n    blackAndWhite: blackAndWhite,\r\n  };\r\n}\r\n\r\nexport function setInvertedColor(invertedColor) {\r\n  return {\r\n    type: SET_INVERTED_COLOR,\r\n    invertedColor: invertedColor,\r\n  };\r\n}\r\n\r\nexport function resetParameters() {\r\n  return {\r\n    type: RESET_PARAMETERS,\r\n  };\r\n}\r\n\r\nexport function setIsLoaded(isLoaded) {\r\n  return {\r\n    type: SET_IS_LOADED,\r\n    isLoaded: isLoaded,\r\n  };\r\n}\r\n\r\nexport function setAbleToChange(ableToChange) {\r\n  return {\r\n    type: SET_ABLE_TO_CHANGE,\r\n    ableToChange: ableToChange,\r\n  };\r\n}","import React, { Component } from 'react';\r\nimport { Row, Col } from 'reactstrap';\r\nimport './HeaderFooter.css';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <Row className=\"header\">\r\n        <Col>\r\n          <h1>Image Changer</h1>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Col, Row } from 'reactstrap';\r\nimport './Links.css';\r\n\r\nclass Links extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"Links\">\r\n        <Row>\r\n          <Col md={6} lg={4}>\r\n            <Link to=\"/ChangeParameters\">\r\n              <button className=\"changeParameters\">Change Parameters</button>\r\n            </Link>\r\n          </Col>\r\n          <Col md={6} lg={4}>\r\n            <Link to=\"/Filters\">\r\n              <button className=\"filters\">Filters</button>\r\n            </Link>\r\n          </Col>\r\n          <Col md={6} lg={4}>\r\n            <Link to=\"/Drawing\">\r\n              <button className=\"drawing\">Drawing</button>\r\n            </Link>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Links;\r\n","import React, { Component } from 'react';\r\nimport './HeaderFooter.css';\r\nimport { Col, Row } from 'reactstrap';\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <Row className='footer'>\r\n        <Col>\r\n          Code on <a href=\"https://github.com/Patrycja20/ImageChanger\">GitHub</a>\r\n        </Col>\r\n        <Col className='text-right'>\r\n          &copy; Patrycja Madyda & Krzysztof Komar\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport { Container } from 'reactstrap';\r\nimport Header from './Header';\r\nimport Links from './Links';\r\nimport Footer from './Footer';\r\n\r\n\r\nclass MainPage extends Component {\r\n  render() {\r\n    return (\r\n      <div className='MainPage'>\r\n        <Container fluid>\r\n          <Header/>\r\n        </Container>\r\n        <Container>\r\n          <Links/>\r\n          <Footer/>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainPage;\r\n","export const filtersList = [\r\n  {\r\n    name: 'Original',\r\n    specification: '',\r\n  },\r\n  {\r\n    name: 'Winter',\r\n    specification: 'brightness(0.7) grayscale(0.4) hue-rotate(200deg)',\r\n  },\r\n  {\r\n    name: 'Coffee With Milk',\r\n    specification: 'brightness(1.1) contrast(2.1) sepia(0.9)',\r\n  },\r\n  {\r\n    name: 'Spring',\r\n    specification: 'brightness(1) hue-rotate(60deg)',\r\n  },\r\n  {\r\n    name: 'Tea',\r\n    specification: 'contrast(0.8) sepia(0.8)',\r\n  },\r\n  {\r\n    name: 'Black & White',\r\n    specification: 'grayscale(1)',\r\n  },\r\n  {\r\n    name: 'Dirty window',\r\n    specification: 'blur(2px) brightness(1.5)',\r\n  },\r\n  {\r\n    name: 'Fairyland',\r\n    specification: 'contrast(1.9) saturate(1.5)',\r\n  },\r\n  {\r\n    name: 'Vice versa',\r\n    specification: 'brightness(1.8) grayscale(0.2) hue-rotate(180deg) invert(0.9) sepia(0.4)',\r\n  },\r\n];\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { setSelectedFilter } from '../../actions';\r\nimport { Link } from 'react-router-dom';\r\nimport { Col, Row } from 'reactstrap';\r\nimport './FiltersImages.css';\r\nimport { filtersList } from './filtersHelpers';\r\n\r\nclass FiltersImages extends Component {\r\n\r\n  imageTileRenderer = (filtersList) => {\r\n    const { imageURL } = this.props.filters;\r\n\r\n    return filtersList.map((filter) => (\r\n      <Col md={4} xs={6} className=\"FilterImage\" key={filter.name}>\r\n        {filter.name}\r\n        <Link to=\"/Filters/View\">\r\n          <img\r\n            onClick={() => this.props.setSelectedFilter(filter)}\r\n            className='Frame'\r\n            style={{ filter: filter.specification }}\r\n            src={imageURL}\r\n            alt={filter.name}\r\n          />\r\n        </Link>\r\n      </Col>\r\n    ));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"FilterImages\">\r\n        <Row>\r\n          {this.imageTileRenderer(filtersList)}\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    filters: state.filters,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    setSelectedFilter: (selectedFilter) => dispatch(setSelectedFilter(selectedFilter)),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FiltersImages);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Row, Col, Container } from 'reactstrap';\r\n\r\nimport { setImageDimensions, setImageURL } from '../../actions/index';\r\nimport Images from './FiltersImages';\r\nimport './Filters.css';\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleLeft } from '@fortawesome/free-solid-svg-icons'\r\n\r\nlibrary.add(faAngleLeft);\r\n\r\n\r\nclass Filters extends Component {\r\n\r\n  handleImageChange = (e) => {\r\n    e.preventDefault();\r\n\r\n    const reader = new FileReader();\r\n    const file = e.target.files[0];\r\n    this.getImageSize(file);\r\n\r\n    reader.onloadend = () => {\r\n      this.props.setImageURL(reader.result);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  getImageSize = (file) => {\r\n    const url = URL.createObjectURL(file);\r\n    const image = new Image();\r\n\r\n    image.onload = () => {\r\n      this.props.setImageDimensions(image.width, image.height);\r\n    };\r\n    image.src = url;\r\n  };\r\n\r\n\r\n  render() {\r\n    const { imageURL } = this.props.filters;\r\n    const imageView = imageURL ? <Images/> : <div className=\"alert alert-dark\">Please select an image</div>;\r\n\r\n    return (\r\n      <div className='Filters'>\r\n        <nav className=\"navbar navbar-expand-sm\">\r\n          <div className='Brand'>\r\n            <Link className=\"Back\" to=\"/\">\r\n              <span className=\"back-icon\"><FontAwesomeIcon icon=\"angle-left\" className='scale2x'/></span>\r\n              <span className='navbar-brand'>Filters</span>\r\n            </Link>\r\n          </div>\r\n          <div className=\"HeaderFilters\">\r\n            <form>\r\n              <input type=\"file\" onChange={this.handleImageChange}/>\r\n            </form>\r\n          </div>\r\n        </nav>\r\n        <Container fluid>\r\n          <Row>\r\n            <Col>\r\n              <div className=\"ContentFilters\">\r\n                {imageView}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    filters: state.filters,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    setImageURL: (imageURL) => dispatch(setImageURL(imageURL)),\r\n    setImageDimensions: (width, height) => dispatch(setImageDimensions(width, height)),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filters);\r\n","/**\r\n * Funkcje pomocnicze (helpers) do rysowania po canvasie.\r\n * ! Aby wyeksportować funkcję, trzeba dodać ją do obiektu `export default`, który jest na końcu tego pliku.\r\n */\r\n\r\n/**\r\n * Zwraca prawdziwe koordynaty kliknięcia na canvas\r\n *\r\n * @param canvas\r\n * @param event\r\n * @returns {{x: number, y: number}}\r\n */\r\nexport function getRealCoords(canvas, event) {\r\n  const { top, left } = getPositionOf(canvas);\r\n  const x = event.pageX - left;\r\n  const y = event.pageY - top;\r\n  return { x, y };\r\n}\r\n\r\n/**\r\n * @param element (html element)\r\n * @returns {{top: number, left: number}}\r\n */\r\nfunction getPositionOf(element) {\r\n  let top = 0;\r\n  let left = 0;\r\n  let obj = element;\r\n\r\n  while (obj && obj.tagName !== 'BODY') {\r\n    top += obj.offsetTop - obj.scrollTop;\r\n    left += obj.offsetLeft - obj.scrollLeft;\r\n    obj = obj.offsetParent;\r\n  }\r\n\r\n  return { top, left };\r\n}\r\n\r\n/**\r\n * Ustawia domyślne wartości początkowe na canvasie (context)\r\n *\r\n * @param context\r\n * @param {number} paintSize\r\n * @param {string} color\r\n */\r\nexport function setDefaultContextValues(context, paintSize, color) {\r\n  context.strokeStyle = color;\r\n  context.lineWidth = paintSize;\r\n  context.lineJoin = 'round';\r\n  context.lineCap = 'round';\r\n}\r\n\r\n/**\r\n * Tworzy plik jpg z canvasa i wyświetla okienko do jego pobrania jako jpg\r\n *\r\n * @param canvas\r\n */\r\nexport function canvasDownloadPopup(canvas) {\r\n  if (canvas === null) return;\r\n\r\n  const data = canvas.toDataURL('image/jpeg');\r\n  const image = data.replace(/^data:image\\/[^;]+/, 'data:application/octet-stream');\r\n\r\n  const downloadLink = document.createElement('a');\r\n  downloadLink.href = image;\r\n  downloadLink.download = 'image.jpg';\r\n\r\n  document.body.appendChild(downloadLink);\r\n  downloadLink.click();\r\n  document.body.removeChild(downloadLink);\r\n}\r\n\r\n/**\r\n * Rysuje (mazakiem)\r\n *\r\n * @param context (2d context from canvas)\r\n * @param {{x: number, y: number}} mousePosition\r\n */\r\nexport function draw(context, mousePosition) {\r\n  context.lineTo(mousePosition.x, mousePosition.y);\r\n  context.stroke();\r\n}\r\n\r\n/**\r\n * @param context (2d context from canvas)\r\n * @param {{x: number, y: number}} startPosition\r\n * @param {{x: number, y: number}} mousePosition\r\n */\r\nexport function drawLine(context, startPosition, mousePosition) {\r\n  context.beginPath();\r\n  context.moveTo(startPosition.x, startPosition.y);\r\n  context.lineTo(mousePosition.x, mousePosition.y);\r\n  context.closePath();\r\n  context.stroke();\r\n}\r\n\r\nfunction strokeOrFill(context, isFill = false) {\r\n  isFill ? context.fill() : context.stroke();\r\n}\r\n\r\n/**\r\n * @param context (2d context from canvas)\r\n * @param {{x: number, y: number}} startPosition\r\n * @param {{x: number, y: number}} mousePosition\r\n * @param {boolean} isFill\r\n */\r\nexport function drawRectangle(context, startPosition, mousePosition, isFill = false) {\r\n  context.beginPath();\r\n  context.rect(startPosition.x, startPosition.y, mousePosition.x - startPosition.x, mousePosition.y - startPosition.y);\r\n  context.closePath();\r\n  strokeOrFill(context, isFill);\r\n}\r\n\r\n/**\r\n * @param context (2d context from canvas)\r\n * @param {{x: number, y: number}} startPosition\r\n * @param {{x: number, y: number}} mousePosition\r\n * @param {boolean} isFill\r\n */\r\nexport function drawCircle(context, startPosition, mousePosition, isFill = false) {\r\n  const r = Math.sqrt(\r\n    Math.pow((mousePosition.x - startPosition.x), 2)\r\n    + Math.pow((mousePosition.y - startPosition.y), 2)\r\n  );\r\n\r\n  context.beginPath();\r\n  context.arc(startPosition.x, startPosition.y, r, 0, 2 * Math.PI);\r\n  context.closePath();\r\n  strokeOrFill(context, isFill);\r\n}\r\n\r\n/**\r\n * @param context (2d context from canvas)\r\n * @param {{x: number, y: number}} startPosition\r\n * @param {{x: number, y: number}} mousePosition\r\n * @param {boolean} isFill\r\n */\r\nexport function drawTriangle(context, startPosition, mousePosition, isFill = false) {\r\n  context.beginPath();\r\n  context.moveTo(startPosition.x, startPosition.y);\r\n  context.lineTo(mousePosition.x, mousePosition.y);\r\n  context.lineTo(startPosition.x, mousePosition.y);\r\n  context.closePath();\r\n  strokeOrFill(context, isFill);\r\n}\r\n\r\n/**\r\n * @param {{innerWidth: number, innerHeight: number}} window:\r\n * @param {{width: number, height: number}} paddings\r\n * @return {{width: number, height: number}}\r\n */\r\nexport function calcCanvasSize(window, paddings) {\r\n  return {\r\n    width: (window.innerWidth < 400 + paddings.width) ? (400) : (window.innerWidth - paddings.width),\r\n    height: (window.innerHeight < 300 + paddings.height) ? (300) : (window.innerHeight - paddings.height),\r\n  };\r\n}\r\n\r\nexport function clearCanvas(canvas) {\r\n  const context = canvas.getContext('2d');\r\n  context.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n  context.fillStyle = 'white';\r\n  context.fillRect(0, 0, canvas.width, canvas.height);\r\n}\r\n\r\nexport default {\r\n  getRealCoords,\r\n  canvasDownloadPopup,\r\n  draw,\r\n  drawLine,\r\n  drawRectangle,\r\n  drawCircle,\r\n  drawTriangle,\r\n  calcCanvasSize,\r\n  setDefaultContextValues,\r\n  clearCanvas,\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport helpers from './drawingHelpers';\r\nimport './DrawingCanvas.css';\r\nimport { setCanvasReference } from '../../actions';\r\nimport { DRAW, LINE, RECTANGLE, CIRCLE, TRIANGLE } from '../../reducers/drawingReducer';\r\n\r\nexport class DrawingCanvas extends Component {\r\n\r\n  canvas = null;\r\n  canvasTemp = null;\r\n  ctx = null;\r\n  ctxTemp = null;\r\n\r\n  state = {\r\n    canvasSize: { width: 1000, height: 300, },\r\n    mouseDown: false,\r\n    startPosition: { x: 0, y: 0 }, // pozycja startowa kursora\r\n  };\r\n\r\n  paddings = { // paddingi od krawędzi ekranu\r\n    width: 75 * 2,\r\n    height: 190,\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.updateWindowDimensions();\r\n  }\r\n\r\n  updateWindowDimensions = () => {\r\n    this.setState({\r\n      canvasSize: helpers.calcCanvasSize(window, this.paddings),\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.canvas = this.refs.canvas;\r\n    this.canvasTemp = this.refs.canvasTemp;\r\n    this.props.setCanvasReference(this.canvas);\r\n\r\n    this.ctx = this.canvas.getContext('2d');\r\n    this.ctxTemp = this.canvasTemp.getContext('2d');\r\n\r\n    helpers.clearCanvas(this.canvas);\r\n\r\n    const { paintSize, color } = this.props.drawing;\r\n    helpers.setDefaultContextValues(this.ctx, paintSize, color);\r\n    helpers.setDefaultContextValues(this.ctxTemp, paintSize, color);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { paintSize, color } = this.props.drawing;\r\n\r\n    this.ctx.lineWidth = paintSize;\r\n    this.ctx.strokeStyle = color;\r\n    this.ctx.fillStyle = color;\r\n\r\n    this.ctxTemp.lineWidth = paintSize;\r\n    this.ctxTemp.strokeStyle = color;\r\n    this.ctxTemp.fillStyle = color;\r\n  }\r\n\r\n  mouseDown = (e) => {\r\n    const mousePosition = helpers.getRealCoords(this.refs.canvas, e);\r\n\r\n    this.setState({\r\n      mouseDown: true,\r\n      startPosition: mousePosition,\r\n    });\r\n\r\n    this.ctx.moveTo(mousePosition.x, mousePosition.y);\r\n    this.ctx.beginPath();\r\n  };\r\n\r\n  mouseMove = (e) => {\r\n    if (this.state.mouseDown === false) return;\r\n\r\n    const { drawMode, isFill } = this.props.drawing;\r\n    const mousePosition = helpers.getRealCoords(this.refs.canvas, e);\r\n    const startPosition = this.state.startPosition;\r\n\r\n    this.ctxTemp.clearRect(0, 0, this.refs.canvasTemp.width, this.refs.canvasTemp.height);\r\n\r\n    switch (drawMode) {\r\n      case DRAW:\r\n        return helpers.draw(this.ctx, mousePosition);\r\n      case LINE:\r\n        return helpers.drawLine(this.ctxTemp, startPosition, mousePosition);\r\n      case RECTANGLE:\r\n        return helpers.drawRectangle(this.ctxTemp, startPosition, mousePosition, isFill);\r\n      case CIRCLE:\r\n        return helpers.drawCircle(this.ctxTemp, startPosition, mousePosition, isFill);\r\n      case TRIANGLE:\r\n        return helpers.drawTriangle(this.ctxTemp, startPosition, mousePosition, isFill);\r\n    }\r\n  };\r\n\r\n  mouseUp = () => {\r\n    this.setState({ mouseDown: false });\r\n\r\n    const { drawMode } = this.props.drawing;\r\n\r\n    if ([LINE, RECTANGLE, CIRCLE, TRIANGLE].includes(drawMode)) {\r\n      this.ctx.drawImage(this.canvasTemp, 0, 0);\r\n      this.ctxTemp.clearRect(0, 0, this.canvasTemp.width, this.canvasTemp.height);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { width, height } = this.state.canvasSize;\r\n\r\n    return (\r\n      <div className=\"DrawingCanvas row container-fluid \">\r\n        <div className=\"col canvas-container\" ref='container'>\r\n          <canvas\r\n            ref=\"canvas\"\r\n            className='canvas-border'\r\n            width={width}\r\n            height={height}\r\n            onMouseDown={this.mouseDown}\r\n            onMouseMove={this.mouseMove}\r\n            onMouseUp={this.mouseUp}\r\n          />\r\n          <canvas\r\n            ref=\"canvasTemp\"\r\n            width={width}\r\n            height={height}\r\n            onMouseDown={this.mouseDown}\r\n            onMouseMove={this.mouseMove}\r\n            onMouseUp={this.mouseUp}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    drawing: state.drawing,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    setCanvasReference: (ref) => dispatch(setCanvasReference(ref)),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DrawingCanvas);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {\r\n  faPencilAlt,\r\n  faMinus,\r\n  faCircle,\r\n  faSquare,\r\n  faCaretUp,\r\n  faVectorSquare,\r\n  faSquareFull,\r\n  faTrashAlt\r\n} from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { CIRCLE, DRAW, LINE, RECTANGLE, TRIANGLE } from '../../reducers/drawingReducer';\r\nimport { changeFillMode, setColor, setDrawMode, setPaintSize } from '../../actions/index';\r\nimport helpers from './drawingHelpers';\r\nimport './DrawingButtons.css'\r\n\r\nlibrary.add(faPencilAlt);\r\nlibrary.add(faMinus);\r\nlibrary.add(faCircle);\r\nlibrary.add(faSquare);\r\nlibrary.add(faCaretUp);\r\nlibrary.add(faVectorSquare);\r\nlibrary.add(faSquareFull);\r\nlibrary.add(faTrashAlt);\r\n\r\n\r\nexport class DrawingButtons extends Component {\r\n  changeDrawMode = (mode) => {\r\n    this.props.setDrawMode(mode);\r\n  };\r\n\r\n  changePaintSize = (e) => {\r\n    this.props.setPaintSize(e.target.value);\r\n  };\r\n\r\n  changeColor = (e) => {\r\n    this.props.setColor(e.target.value);\r\n  };\r\n\r\n  changeFillMode = () => {\r\n    this.props.changeFillMode();\r\n  };\r\n\r\n  clearCanvas = () => {\r\n    helpers.clearCanvas(this.props.drawing.canvasRef);\r\n  };\r\n\r\n  saveAsJpg = () => {\r\n    helpers.canvasDownloadPopup(this.props.drawing.canvasRef);\r\n  };\r\n\r\n  render() {\r\n    const { drawMode, paintSize, color, isFill } = this.props.drawing;\r\n\r\n    return (\r\n      <div className='DrawingButtons navbar-coloring-buttons'>\r\n        <ul className=\"navbar-nav mr-auto paint-bar\">\r\n          <li className=\"nav-item paint-size-container\">\r\n            <input\r\n              id=\"paintSize\"\r\n              type=\"range\"\r\n              className=\"form-control-range paint-size\"\r\n              min=\"1\"\r\n              max=\"50\"\r\n              value={paintSize} onChange={this.changePaintSize}\r\n              title='Choose color'\r\n            />\r\n            <span className=\"badge badge-secondary paint-size-val\">{paintSize}px</span>\r\n          </li>\r\n\r\n          <li className=\"nav-item\">\r\n            <input type=\"color\" className=\"btn btn-secondary paint-color\" value={color} onChange={this.changeColor}/>\r\n          </li>\r\n\r\n          <li className=\"nav-item\">\r\n            <button\r\n              className='btn btn-secondary'\r\n              type=\"button\"\r\n              onClick={this.changeFillMode}\r\n              title='Fill or stroke mode'\r\n            >\r\n              {\r\n                isFill\r\n                  ? (<FontAwesomeIcon icon=\"square-full\"/>)\r\n                  : (<FontAwesomeIcon icon=\"vector-square\"/>)\r\n              }\r\n            </button>\r\n\r\n            <button\r\n              className='btn btn-secondary mx-2'\r\n              type=\"button\"\r\n              onClick={this.clearCanvas}\r\n              title='Clear canvas'\r\n            >\r\n              <FontAwesomeIcon icon=\"trash-alt\"/>\r\n            </button>\r\n          </li>\r\n\r\n          <li className=\"nav-item\">\r\n            <button\r\n              data-mode={DRAW}\r\n              className={`btn btn-secondary button-mode ${drawMode === DRAW && 'selected'}`}\r\n              type=\"button\"\r\n              onClick={() => this.changeDrawMode(DRAW)}\r\n              title='Draw'\r\n            >\r\n              <FontAwesomeIcon icon=\"pencil-alt\"/>\r\n            </button>\r\n\r\n            <button\r\n              data-mode={LINE}\r\n              className={`btn btn-secondary button-mode ${drawMode === LINE && 'selected'}`}\r\n              type=\"button\"\r\n              onClick={() => this.changeDrawMode(LINE)}\r\n              title='Draw line'\r\n            >\r\n              <FontAwesomeIcon icon=\"minus\"/>\r\n            </button>\r\n\r\n            <button\r\n              data-mode={RECTANGLE}\r\n              className={`btn btn-secondary button-mode button-square ${drawMode === RECTANGLE && 'selected'}`}\r\n              type=\"button\"\r\n              onClick={() => this.changeDrawMode(RECTANGLE)}\r\n              title='Draw rectangle'\r\n            >\r\n              <FontAwesomeIcon icon=\"square\"/>\r\n            </button>\r\n\r\n            <button\r\n              data-mode={RECTANGLE}\r\n              className={`btn btn-secondary button-mode button-square ${drawMode === CIRCLE && 'selected'}`}\r\n              type=\"button\"\r\n              onClick={() => this.changeDrawMode(CIRCLE)}\r\n              title='Draw circle'\r\n            >\r\n              <FontAwesomeIcon icon=\"circle\"/>\r\n            </button>\r\n\r\n            <button\r\n              data-mode={RECTANGLE}\r\n              className={`btn btn-secondary button-mode button-square ${drawMode === TRIANGLE && 'selected'}`}\r\n              type=\"button\"\r\n              onClick={() => this.changeDrawMode(TRIANGLE)}\r\n              title='Draw triangle'\r\n            >\r\n              <FontAwesomeIcon className='triangle-icon' icon=\"caret-up\"/>\r\n            </button>\r\n          </li>\r\n\r\n          <li className='nav-item button-save'>\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={this.saveAsJpg}>Save as *.jpg</button>\r\n          </li>\r\n\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    drawing: state.drawing,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    setDrawMode: (drawMode) => dispatch(setDrawMode(drawMode)),\r\n    setPaintSize: (paintSize) => dispatch(setPaintSize(paintSize)),\r\n    setColor: (color) => dispatch(setColor(color)),\r\n    changeFillMode: () => dispatch(changeFillMode()),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DrawingButtons);\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport DrawingCanvas from './DrawingCanvas';\r\nimport DrawingButtons from './DrawingButtons';\r\nimport './Drawing.css';\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleLeft, } from '@fortawesome/free-solid-svg-icons'\r\n\r\nlibrary.add(faAngleLeft);\r\n\r\nclass Drawing extends Component {\r\n  render() {\r\n    return (\r\n      <div className='Drawing'>\r\n        <nav className=\"navbar-coloring navbar-expand-sm\">\r\n          <div className='navbar-coloring-brand'>\r\n            <Link to='/' className='noHover'>\r\n              <span className=\"back-icon\"><FontAwesomeIcon icon=\"angle-left\" className='scale2x'/></span>\r\n              <span className=\"navbar-brand\">Drawing</span>\r\n            </Link>\r\n          </div>\r\n          <DrawingButtons/>\r\n        </nav>\r\n        <DrawingCanvas/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Drawing;\r\n","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport './CpHeader.css';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nclass CpHeader extends Component {\r\n  render() {\r\n    return (\r\n      <nav className=\"Header navbar navbar-expand-sm\">\r\n        <div className='Brand'>\r\n          <Link className=\"Back\" to=\"/\">\r\n            <span className=\"back-icon\"><FontAwesomeIcon icon=\"angle-left\" className='scale2x'/></span>\r\n            <span className='navbar-brand'>Change Parameters</span>\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CpHeader;\r\n","import React, { Component } from 'react';\r\nimport {\r\n  setBrightness,\r\n  setContrast,\r\n  setSaturation,\r\n  setVignetting,\r\n  setAbleToChange,\r\n  setNumberOfShades,\r\n  resetParameters,\r\n  setBlackAndWhite,\r\n  setInvertedColor,\r\n} from '../../actions';\r\nimport { Row, Col } from 'reactstrap';\r\nimport './CpParameters.css';\r\nimport { connect } from 'react-redux';\r\n\r\nclass CpParameters extends Component {\r\n  changeBrightness = (e) => {\r\n    this.props.setBrightness(e.target.value);\r\n  };\r\n\r\n  changeContrast = (e) => {\r\n    this.props.setContrast(e.target.value);\r\n  };\r\n\r\n  changeSaturation = (e) => {\r\n    this.props.setSaturation(e.target.value);\r\n  };\r\n\r\n  changeVignetting = (e) => {\r\n    this.props.setVignetting(e.target.value);\r\n  };\r\n\r\n  changeNumberOfShades = (e) => {\r\n    this.props.setNumberOfShades(e.target.value);\r\n  };\r\n\r\n  changeBlackAndWhite = (e) => {\r\n    this.props.setBlackAndWhite(e.target.checked);\r\n  };\r\n\r\n  changeInvertedColor = (e) => {\r\n    this.props.setInvertedColor(e.target.checked);\r\n  };\r\n\r\n  mouseDown = () => {\r\n    this.props.setAbleToChange(false);\r\n  };\r\n\r\n  mouseUp = () => {\r\n    this.props.setAbleToChange(true);\r\n  };\r\n\r\n  render() {\r\n    let { brightness, contrast, saturation, vignetting, numberOfShades, blackAndWhite, invertedColor, isLoaded } = this.props.parameters;\r\n    return <div className=\"InputsRange\">\r\n      <Row>\r\n        <Col>\r\n          <label for=\"Brightness\" onDoubleClick={() => this.props.setBrightness(0)}>Brightness: {brightness}</label>\r\n          <input type=\"range\" class=\"Range custom-range\" min=\"-255\" max=\"255\" step=\"1\" id=\"brightness\"\r\n                 value={brightness} disabled={!isLoaded}\r\n                 onInput={this.changeBrightness} onMouseDown={this.mouseDown} onMouseUp={this.mouseUp}/>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <label for=\"Contrast\" onDoubleClick={() => this.props.setContrast(0)}>Contrast: {contrast}</label>\r\n          <input type=\"range\" class=\"Range custom-range\" min=\"-255\" max=\"255\" step=\"1\" id=\"contrast\"\r\n                 value={contrast} disabled={!isLoaded}\r\n                 onChange={this.changeContrast} onMouseDown={this.mouseDown} onMouseUp={this.mouseUp}/>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <label for=\"Saturation\" onDoubleClick={() => this.props.setSaturation(1.0)}>Saturation: {saturation}</label>\r\n          <input type=\"range\" class=\"Range custom-range\" min=\"0\" max=\"2\" step=\"0.01\" id=\"saturation\"\r\n                 value={saturation} disabled={!isLoaded}\r\n                 onChange={this.changeSaturation} onMouseDown={this.mouseDown} onMouseUp={this.mouseUp}/>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <label for=\"Vignetting\" onDoubleClick={() => this.props.setVignetting(0)}>Vignetting: {vignetting}</label>\r\n          <input type=\"range\" class=\"Range custom-range\" min=\"0\" max=\"1\" step=\"0.01\" id=\"vignetting\"\r\n                 value={vignetting} disabled={!isLoaded}\r\n                 onChange={this.changeVignetting} onMouseDown={this.mouseDown} onMouseUp={this.mouseUp}/>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <label for=\"Number Of Shades\" onDoubleClick={() => this.props.setNumberOfShades(0)}>Number Of\r\n            Shades: {numberOfShades}</label>\r\n          <input type=\"range\" class=\"Range custom-range\" min=\"0\" max=\"16\" step=\"1\" id=\"numberOfShades\"\r\n                 value={numberOfShades} disabled={!isLoaded}\r\n                 onChange={this.changeNumberOfShades} onMouseDown={this.mouseDown} onMouseUp={this.mouseUp}/>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <label className=\"CheckBox\" onDoubleClick={() => this.props.setBlackAndWhite(false)}>\r\n            Black and White\r\n            <input type=\"checkbox\" id=\"blackAndWhite\" disabled={!isLoaded} checked={blackAndWhite}\r\n                   onChange={this.changeBlackAndWhite}/>\r\n            <span className=\"checkmark\"></span>\r\n          </label>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <label className=\"CheckBox\" onDoubleClick={() => this.props.setInvertedColor(false)}>\r\n            Inverted Color\r\n            <input type=\"checkbox\" id=\"invertedColor\" disabled={!isLoaded} checked={invertedColor}\r\n                   onChange={this.changeInvertedColor}/>\r\n            <span className=\"checkmark\"></span>\r\n          </label>\r\n        </Col>\r\n      </Row>\r\n      < Row>\r\n        <Col>\r\n          <button className=\"btn btn-info btn-lg ClearParameters\" type='reset'\r\n                  onClick={this.props.resetParameters}> Reset\r\n          </button>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    parameters: state.parameters,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    setBrightness: (brightness) => dispatch(setBrightness(brightness)),\r\n    setContrast: (contrast) => dispatch(setContrast(contrast)),\r\n    setSaturation: (saturation) => dispatch(setSaturation(saturation)),\r\n    setVignetting: (vignetting) => dispatch(setVignetting(vignetting)),\r\n    setNumberOfShades: (numberOfShades) => dispatch(setNumberOfShades(numberOfShades)),\r\n    setBlackAndWhite: (blackAndWhite) => dispatch(setBlackAndWhite(blackAndWhite)),\r\n    setInvertedColor:(invertedColor) => dispatch(setInvertedColor(invertedColor)),\r\n    resetParameters: () => dispatch(resetParameters()),\r\n    setAbleToChange: (ableToChange) => dispatch(setAbleToChange(ableToChange))\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CpParameters);","export function truncate(value) {\r\n  if (value < 0) return 0;\r\n  if (value > 255) return 255;\r\n\r\n  return value;\r\n}\r\n\r\nexport function iteratePixels(values, arrayPixels) {\r\n  for (let i = 0; i < arrayPixels.length; i += 4) {\r\n    let r = arrayPixels[i];\r\n    let g = arrayPixels[i + 1];\r\n    let b = arrayPixels[i + 2];\r\n\r\n    let result = modifyInvertedColor(r, g, b, values.invertedColor);\r\n    result = modifyBlackAndWhite(result.r, result.g, result.b, values.blackAndWhite);\r\n    result = modifyBrightness(result.r, result.g, result.b, values.brightness);\r\n    result = modifyContrast(result.r, result.g, result.b, values.contrast);\r\n    result = modifySaturation(result.r, result.g, result.b, values.saturation);\r\n    result = modifyNumberOfShades(result.r, result.g, result.b, values.numberOfShades);\r\n\r\n    arrayPixels[i] = result.r;\r\n    arrayPixels[i + 1] = result.g;\r\n    arrayPixels[i + 2] = result.b;\r\n  }\r\n}\r\n\r\nexport function modifyBrightness(r, g, b, value) {\r\n  r = truncate(r + value);\r\n  g = truncate(g + value);\r\n  b = truncate(b + value);\r\n  return { r, g, b }\r\n}\r\n\r\nexport function modifyContrast(r, g, b, value) {\r\n  const factor = (259 * (value + 255)) / (255 * (259 - value));\r\n  r = truncate(factor * (r - 128) + 128);\r\n  g = truncate(factor * (g - 128) + 128);\r\n  b = truncate(factor * (b - 128) + 128);\r\n  return { r, g, b }\r\n}\r\n\r\nexport function modifySaturation(r, g, b, value) {\r\n  const Pr = 0.299;\r\n  const Pg = 0.587;\r\n  const Pb = 0.114;\r\n  const P = Math.sqrt((r) * (r) * Pr + (g) * (g) * Pg + (b) * (b) * Pb);\r\n  r = truncate(P + ((r) - P) * value);\r\n  g = truncate(P + ((g) - P) * value);\r\n  b = truncate(P + ((b) - P) * value);\r\n  return { r, g, b }\r\n}\r\n\r\nexport function modifyNumberOfShades(r, g, b, value) {\r\n  if (value === 0) return { r, g, b };\r\n\r\n  const conversionFactor = 255 / value;\r\n  const averageValue = (r + g + b) / 3;\r\n  const gray = parseInt((averageValue / conversionFactor) + 0.5) * conversionFactor;\r\n  r = truncate(gray);\r\n  g = truncate(gray);\r\n  b = truncate(gray);\r\n  return { r, g, b }\r\n}\r\n\r\nexport function modifyBlackAndWhite(r, g, b, value) {\r\n  if (value === false) return { r, g, b };\r\n\r\n  const gray = (r * 0.2126 + g * 0.7152 + b * 0.0722)\r\n  r = truncate(gray);\r\n  g = truncate(gray);\r\n  b = truncate(gray);\r\n  return { r, g, b }\r\n}\r\n\r\nexport function modifyInvertedColor(r, g, b, value) {\r\n  if (value === false) return { r, g, b };\r\n  r = 255 - r;\r\n  g = 255 - g;\r\n  b = 255 - b;\r\n  return { r, g, b }\r\n}\r\n\r\nexport function modifyVignetting(width, height, ctx, value) {\r\n  if (value === 0) return;\r\n  const gradient = ctx.createRadialGradient(width / 2, height / 2, width / 8, width / 2, height / 2, (1 / value) * width / 4);\r\n\r\n  gradient.addColorStop(0, 'rgba(0,0,0,0)');\r\n  gradient.addColorStop(1, 'rgba(0,0,0,0.8)');\r\n\r\n  return gradient;\r\n}","import React, { Component } from 'react';\r\nimport './CpCanvas.css';\r\nimport {\r\n  iteratePixels,\r\n  modifyVignetting,\r\n} from './cpModifiers';\r\nimport connect from 'react-redux/es/connect/connect';\r\n\r\nclass CpCanvas extends Component {\r\n\r\n  componentDidMount() {\r\n    const canvas = this.refs.canvas;\r\n    this.ctx = canvas.getContext('2d');\r\n    const img = this.refs.image;\r\n\r\n    img.onload = () => {\r\n      this.ctx.clearRect(0, 0, this.props.width, this.props.height);\r\n      this.ctx.drawImage(img, 0, 0);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.parameters.ableToChange === false) return;\r\n\r\n    this.ctx.clearRect(0, 0, this.props.width, this.props.height);\r\n    this.ctx.drawImage(this.refs.image, 0, 0);\r\n    if (this.props.parameters.vignetting !== 0) {\r\n      this.ctx.fillStyle = modifyVignetting(this.props.width, this.props.height, this.ctx, this.props.parameters.vignetting);\r\n      this.ctx.fillRect(0, 0, this.props.width, this.props.height);\r\n    }\r\n    const imgData = this.ctx.getImageData(0, 0, this.props.width, this.props.height);\r\n\r\n    iteratePixels(this.props.parameters, imgData.data);\r\n\r\n    this.ctx.putImageData(imgData, 0, 0);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <canvas ref=\"canvas\" width={this.props.width} height={this.props.height}/>\r\n        <img ref=\"image\" src={this.props.name} className=\"hidden\"/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    parameters: state.parameters,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(CpCanvas);","import React, { Component } from 'react';\r\nimport CpCanvas from './CpCanvas';\r\nimport './CPChooseImage.css';\r\nimport { resetParameters, setIsLoaded } from '../../actions';\r\nimport connect from 'react-redux/es/connect/connect';\r\n\r\nclass CpChooseImage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { file: '', imageViewUrl: '', height: null, width: null };\r\n  }\r\n\r\n  getImageSize = (file) => {\r\n\r\n    this.setState({\r\n      width: null,\r\n      height: null\r\n    });\r\n\r\n    const url = URL.createObjectURL(file);\r\n    const image = new Image();\r\n\r\n    image.onload = () => {\r\n      const { width, height } = image;\r\n      this.setState({\r\n        width: width,\r\n        height: height\r\n      });\r\n    };\r\n\r\n    image.src = url;\r\n  };\r\n\r\n  _handleSubmit(e) {\r\n    e.preventDefault();\r\n  }\r\n\r\n  _handleImageChange(e) {\r\n    e.preventDefault();\r\n    let reader = new FileReader();\r\n    let file = e.target.files[0];\r\n    this.getImageSize(file);\r\n    this.props.resetParameters();\r\n\r\n    reader.onloadend = () => {\r\n      this.props.setIsLoaded(true);\r\n      this.setState({\r\n        file: file,\r\n        imageViewUrl: reader.result\r\n      });\r\n    }\r\n    reader.readAsDataURL(file);\r\n  }\r\n\r\n  render() {\r\n    let { imageViewUrl } = this.state;\r\n    let $imageView = null;\r\n    if (imageViewUrl && this.state.width > 0 && this.state.height > 0) {\r\n      $imageView = (<CpCanvas width={this.state.width} height={this.state.height} name={imageViewUrl}/>);\r\n    } else {\r\n      $imageView = (<div>Please select an Image<br/>\r\n        <canvas width={1920} height={1080}/>\r\n      </div>);\r\n    }\r\n\r\n    return (\r\n      <div className=\"ChooseImage\">\r\n        <form onSubmit={(e) => this._handleSubmit(e)}>\r\n          <input className=\"fileInput\" type=\"file\" onChange={(e) => this._handleImageChange(e)}/> Preferred max.\r\n          (1920 x 1080)\r\n        </form>\r\n        <div className=\"imgView\">\r\n          {$imageView}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    parameters: state.parameters,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    resetParameters: () => dispatch(resetParameters()),\r\n    setIsLoaded: (isLoaded) => dispatch(setIsLoaded(isLoaded))\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CpChooseImage);","import React, { Component } from 'react';\r\nimport { Row, Col, Container } from 'reactstrap';\r\nimport CpHeader from './CpHeader';\r\nimport CpParameters from './CpParameters';\r\nimport CpChooseImage from './CpChooseImage';\r\n\r\nclass ChangeParameters extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <CpHeader/>\r\n        <Container fluid>\r\n          <Row>\r\n            <Col md={4} xl={3}>\r\n              <CpParameters/>\r\n            </Col>\r\n            <Col md={8} xl={9}>\r\n              <CpChooseImage/>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChangeParameters;\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport './Filters.css';\r\nimport './FiltersView.css';\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleLeft, faLongArrowAltRight } from '@fortawesome/free-solid-svg-icons'\r\nimport helpers from '../Drawing/drawingHelpers';\r\n\r\nlibrary.add(faAngleLeft);\r\nlibrary.add(faLongArrowAltRight);\r\n\r\nclass FiltersView extends Component {\r\n\r\n  componentDidMount() {\r\n    const img = this.refs.image;\r\n    const { imageURL } = this.props.filters;\r\n\r\n    if (!img || !imageURL) {\r\n      this.props.history.push('/Filters');\r\n      return;\r\n    }\r\n\r\n    img.onload = () => {\r\n      const ctx = this.refs.canvas.getContext('2d');\r\n\r\n      ctx.clearRect(0, 0, this.props.filters.width, this.props.filters.height);\r\n      ctx.filter = this.props.filters.selectedFilter.specification;\r\n      ctx.drawImage(img, 0, 0);\r\n    }\r\n  }\r\n\r\n  saveAsJpg = () => {\r\n    helpers.canvasDownloadPopup(this.refs.canvas);\r\n  };\r\n\r\n  render() {\r\n    let { imageURL, selectedFilter, width, height } = this.props.filters;\r\n\r\n    if (!imageURL) {\r\n      return <div>Go back and select image first.</div>;\r\n    }\r\n\r\n    return (\r\n      <div className='Filters'>\r\n        <nav className=\"navbar navbar-expand-sm\">\r\n          <div className='Brand'>\r\n            <Link className=\"Back\" to=\"/Filters\">\r\n              <span className=\"back-icon\"><FontAwesomeIcon icon=\"angle-left\" className='scale2x'/></span>\r\n              <span className='navbar-brand'>\r\n                Filters\r\n                <FontAwesomeIcon icon=\"long-arrow-alt-right\" className='mx-3'/>\r\n                {selectedFilter.name}\r\n              </span>\r\n            </Link>\r\n          </div>\r\n          <div className='mx-4'>\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={this.saveAsJpg}>Save as *.jpg</button>\r\n          </div>\r\n        </nav>\r\n        <div className=\"Photo justify-content-center\">\r\n          <div className=\"full-view\">\r\n            <img\r\n              ref=\"image\"\r\n              className='max-foto-size'\r\n              style={{ filter: selectedFilter.specification }}\r\n              src={imageURL}\r\n              alt={selectedFilter.name}\r\n            />\r\n            <canvas ref=\"canvas\" width={width} height={height} className='hidden'/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    filters: state.filters,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {};\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FiltersView);\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {withRouter, Route} from 'react-router-dom'\r\nimport {contactsFetched} from '../actions/index';\r\n\r\nimport MainPage from './MainPage/MainPage';\r\nimport Filters from './Filters/Filters';\r\nimport Drawing from './Drawing/Drawing';\r\nimport ChangeParameters from './ChangeParameters/ChangeParameters';\r\nimport FiltersView from './Filters/FiltersView';\r\n\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Route path=\"/\" exact strict component={MainPage}/>\r\n        <Route path=\"/ChangeParameters\" component={ChangeParameters}/>\r\n        <Route path=\"/Filters\" exact strict component={Filters}/>\r\n        <Route path=\"/Filters/View\"  component={FiltersView}/>\r\n        <Route path=\"/Drawing\" component={Drawing}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    contacts: state.contacts\r\n  }\r\n};\r\nconst mapDispatchToProps = {contactsFetched};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { store } from '../store';\r\nimport App from './App';\r\n\r\nconst Root = () =>\r\n  <Provider store={store}>\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <App/>\r\n    </Router>\r\n  </Provider>;\r\n\r\nexport default Root;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Root from './components/Root';\r\n\r\n\r\nReactDOM.render(<Root/>, document.getElementById('root'));\r\n"],"sourceRoot":""}