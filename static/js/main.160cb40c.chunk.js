(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){e.exports=a(71)},47:function(e,t,a){},49:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(17),i=a.n(c),s=(a(41),a(10)),o=a(74),l=a(19),u=a(35),m=a(9),h="SET_DRAW_MODE",d="SET_PAINT_SIZE",p="SET_COLOR",g="SET_CANVAS_REF",f="CHANGE_FILL_MODE",b="draw",v="line",E="rectangle",C="circle",w="triangle",O="SET_SELECTED_FILTER",y="SET_IMAGE_URL",j="SET_IMAGE_DIMENSIONS",N="SET_BRIGHTNESS",k="SET_CONTRAST",S="SET_SATURATION",x="SET_VIGNETTING",T="SET_NUMBER_OF_SHADES",D="SET_BLACK_AND_WHITE",R="SET_INVERTED_COLOR",M="SET_RED",I="SET_GREEN",A="SET_BLUE",F="RESET_PARAMETERS",_="RESET_STORE",L="SET_IS_LOADED",U="SET_ABLE_TO_CHANGE",B=Object(l.b)({contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CONTACTS_SUCCESS":return Object(u.a)(t.contacts);default:return e}},drawing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(m.a)({},e,{drawMode:t.drawMode});case d:return Object(m.a)({},e,{paintSize:t.paintSize});case p:return Object(m.a)({},e,{color:t.color});case g:return Object(m.a)({},e,{canvasRef:t.reference});case f:return Object(m.a)({},e,{isFill:!e.isFill});default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(m.a)({},e,{selectedFilter:t.selectedFilter});case y:return Object(m.a)({},e,{imageURL:t.imageURL});case j:return Object(m.a)({},e,{width:t.width,height:t.height});default:return e}},parameters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(m.a)({},e,{brightness:t.brightness});case k:return Object(m.a)({},e,{contrast:t.contrast});case S:return Object(m.a)({},e,{saturation:t.saturation});case x:return Object(m.a)({},e,{vignetting:t.vignetting});case T:return Object(m.a)({},e,{numberOfShades:t.numberOfShades});case D:return Object(m.a)({},e,{blackAndWhite:t.blackAndWhite});case R:return Object(m.a)({},e,{invertedColor:t.invertedColor});case M:return Object(m.a)({},e,{red:t.red});case I:return Object(m.a)({},e,{green:t.green});case A:return Object(m.a)({},e,{blue:t.blue});case F:return Object(m.a)({},e,{brightness:0,contrast:0,saturation:1,vignetting:0,numberOfShades:0,red:!0,green:!0,blue:!0,blackAndWhite:!1,invertedColor:!1});case L:return Object(m.a)({},e,{isLoaded:t.isLoaded});case U:return Object(m.a)({},e,{ableToChange:t.ableToChange});case"SET_CANVAS_REF":return Object(m.a)({},e,{canvasRef:t.reference});case _:return P.parameters;default:return e}}}),P={drawing:{drawMode:b,paintSize:10,color:"#00290d",canvasRef:null,isFill:!1},filters:{selectedFilter:null,imageURL:null,width:null,height:null},parameters:{brightness:0,contrast:0,saturation:1,vignetting:0,numberOfShades:0,blackAndWhite:!1,invertedColor:!1,red:!0,green:!0,blue:!0,isLoaded:!1,ableToChange:!0,canvasRef:!0}},W=Object(l.c)(B,P),z=a(4),V=a(5),G=a(7),H=a(6),J=a(8),q=a(73),K=a(75);function Y(e){return{type:g,reference:e}}function X(){return{type:F}}var Z=a(3),Q=(a(29),function(e){function t(){return Object(z.a)(this,t),Object(G.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return r.a.createElement(Z.c,{className:"header"},r.a.createElement(Z.a,null,r.a.createElement("h1",null,"Image Changer")))}}]),t}(n.Component)),$=a(72),ee=(a(47),function(e){function t(){return Object(z.a)(this,t),Object(G.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Links"},r.a.createElement(Z.c,null,r.a.createElement(Z.a,{md:6,lg:4},r.a.createElement($.a,{to:"/ChangeParameters"},r.a.createElement("button",{className:"changeParameters"},"Change Parameters"))),r.a.createElement(Z.a,{md:6,lg:4},r.a.createElement($.a,{to:"/Filters"},r.a.createElement("button",{className:"filters"},"Filters"))),r.a.createElement(Z.a,{md:6,lg:4},r.a.createElement($.a,{to:"/Drawing"},r.a.createElement("button",{className:"drawing"},"Drawing")))))}}]),t}(n.Component)),te=function(e){function t(){return Object(z.a)(this,t),Object(G.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return r.a.createElement(Z.c,{className:"footer"},r.a.createElement(Z.a,null,"Code on ",r.a.createElement("a",{href:"https://github.com/Patrycja20/ImageChanger"},"GitHub")),r.a.createElement(Z.a,{className:"text-right"},"\xa9 Patrycja Madyda & Krzysztof Komar"))}}]),t}(n.Component),ae=function(e){function t(){return Object(z.a)(this,t),Object(G.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"MainPage"},r.a.createElement(Z.b,{fluid:!0},r.a.createElement(Q,null)),r.a.createElement(Z.b,null,r.a.createElement(ee,null),r.a.createElement(te,null)))}}]),t}(n.Component),ne=(a(49),[{name:"Original",specification:""},{name:"Winter",specification:"brightness(0.7) grayscale(0.4) hue-rotate(200deg)"},{name:"Coffee With Milk",specification:"brightness(1.1) contrast(2.1) sepia(0.9)"},{name:"Spring",specification:"brightness(1) hue-rotate(60deg)"},{name:"Tea",specification:"contrast(0.8) sepia(0.8)"},{name:"Black & White",specification:"grayscale(1)"},{name:"Dirty window",specification:"blur(2px) brightness(1.5)"},{name:"Fairyland",specification:"contrast(1.9) saturate(1.5)"},{name:"Vice versa",specification:"brightness(1.8) grayscale(0.2) hue-rotate(180deg) invert(0.9) sepia(0.4)"}]),re=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(G.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(c)))).imageTileRenderer=function(e){var t=a.props.filters.imageURL;return e.map(function(e){return r.a.createElement(Z.a,{md:4,xs:6,className:"FilterImage",key:e.name},e.name,r.a.createElement($.a,{to:"/Filters/View"},r.a.createElement("img",{onClick:function(){return a.props.setSelectedFilter(e)},className:"Frame",style:{filter:e.specification},src:t,alt:e.name})))})},a}return Object(J.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"FilterImages"},r.a.createElement(Z.c,null,this.imageTileRenderer(ne)))}}]),t}(n.Component);var ce=Object(s.b)(function(e){return{filters:e.filters}},function(e){return{setSelectedFilter:function(t){return e(function(e){return{type:O,selectedFilter:e}}(t))}}})(re),ie=(a(30),a(11)),se=a(12),oe=a(14);ie.b.add(oe.a);var le=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(G.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).handleImageChange=function(e){e.preventDefault();var t=new FileReader,n=e.target.files[0];a.getImageSize(n),t.onloadend=function(){a.props.setImageURL(t.result)},t.readAsDataURL(n)},a.getImageSize=function(e){var t=URL.createObjectURL(e),n=new Image;n.onload=function(){a.props.setImageDimensions(n.width,n.height)},n.src=t},a}return Object(J.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.props.filters.imageURL?r.a.createElement(ce,null):r.a.createElement("div",{className:"alert alert-warning"},"Please select an image");return r.a.createElement("div",{className:"Filters"},r.a.createElement("nav",{className:"navbar navbar-expand-sm"},r.a.createElement("div",{className:"Brand"},r.a.createElement($.a,{className:"Back",to:"/"},r.a.createElement("span",{className:"back-icon"},r.a.createElement(se.a,{icon:"angle-left",className:"scale2x"})),r.a.createElement("span",{className:"navbar-brand"},"Filters"))),r.a.createElement("div",{className:"HeaderFilters"},r.a.createElement("form",null,r.a.createElement("input",{type:"file",onChange:this.handleImageChange})))),r.a.createElement(Z.b,{fluid:!0},r.a.createElement(Z.c,null,r.a.createElement(Z.a,null,r.a.createElement("div",{className:"ContentFilters"},e)))))}}]),t}(n.Component);var ue=Object(s.b)(function(e){return{filters:e.filters}},function(e){return{setImageURL:function(t){return e(function(e){return{type:y,imageURL:e}}(t))},setImageDimensions:function(t,a){return e(function(e,t){return{type:j,width:e,height:t}}(t,a))}}})(le);function me(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.fill():e.stroke()}var he={getRealCoords:function(e,t){var a=function(e){for(var t=0,a=0,n=e;n&&"BODY"!==n.tagName;)t+=n.offsetTop-n.scrollTop,a+=n.offsetLeft-n.scrollLeft,n=n.offsetParent;return{top:t,left:a}}(e),n=a.top,r=a.left;return{x:t.pageX-r,y:t.pageY-n}},draw:function(e,t){e.lineTo(t.x,t.y),e.stroke()},drawLine:function(e,t,a){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(a.x,a.y),e.closePath(),e.stroke()},drawRectangle:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.beginPath(),e.rect(t.x,t.y,a.x-t.x,a.y-t.y),e.closePath(),me(e,n)},drawCircle:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2));e.beginPath(),e.arc(t.x,t.y,r,0,2*Math.PI),e.closePath(),me(e,n)},drawTriangle:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(a.x,a.y),e.lineTo(t.x,a.y),e.closePath(),me(e,n)},calcCanvasSize:function(e,t){return{width:e.innerWidth<400+t.width?400:e.innerWidth-t.width,height:e.innerHeight<300+t.height?300:e.innerHeight-t.height}},setDefaultContextValues:function(e,t,a){e.strokeStyle=a,e.lineWidth=t,e.lineJoin="round",e.lineCap="round"},clearCanvas:function(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),t.fillStyle="white",t.fillRect(0,0,e.width,e.height)}},de=(a(52),function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(G.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).canvas=null,a.canvasTemp=null,a.ctx=null,a.ctxTemp=null,a.state={canvasSize:{width:1e3,height:300},mouseDown:!1,startPosition:{x:0,y:0}},a.paddings={width:150,height:190},a.updateWindowDimensions=function(){a.setState({canvasSize:he.calcCanvasSize(window,a.paddings)})},a.mouseDown=function(e){var t=he.getRealCoords(a.refs.canvas,e);a.setState({mouseDown:!0,startPosition:t}),a.ctx.moveTo(t.x,t.y),a.ctx.beginPath()},a.mouseMove=function(e){if(!1!==a.state.mouseDown){var t=a.props.drawing,n=t.drawMode,r=t.isFill,c=he.getRealCoords(a.refs.canvas,e),i=a.state.startPosition;return a.ctxTemp.clearRect(0,0,a.refs.canvasTemp.width,a.refs.canvasTemp.height),n===b?he.draw(a.ctx,c):n===v?he.drawLine(a.ctxTemp,i,c):n===E?he.drawRectangle(a.ctxTemp,i,c,r):n===C?he.drawCircle(a.ctxTemp,i,c,r):n===w?he.drawTriangle(a.ctxTemp,i,c,r):void 0}},a.mouseUp=function(){a.setState({mouseDown:!1});var e=a.props.drawing.drawMode;[v,E,C,w].includes(e)&&(a.ctx.drawImage(a.canvasTemp,0,0),a.ctxTemp.clearRect(0,0,a.canvasTemp.width,a.canvasTemp.height))},a}return Object(J.a)(t,e),Object(V.a)(t,[{key:"componentWillMount",value:function(){this.updateWindowDimensions()}},{key:"componentDidMount",value:function(){this.canvas=this.refs.canvas,this.canvasTemp=this.refs.canvasTemp,this.props.setCanvasReference(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctxTemp=this.canvasTemp.getContext("2d"),he.clearCanvas(this.canvas);var e=this.props.drawing,t=e.paintSize,a=e.color;he.setDefaultContextValues(this.ctx,t,a),he.setDefaultContextValues(this.ctxTemp,t,a)}},{key:"componentDidUpdate",value:function(){var e=this.props.drawing,t=e.paintSize,a=e.color;this.ctx.lineWidth=t,this.ctx.strokeStyle=a,this.ctx.fillStyle=a,this.ctxTemp.lineWidth=t,this.ctxTemp.strokeStyle=a,this.ctxTemp.fillStyle=a}},{key:"render",value:function(){var e=this.state.canvasSize,t=e.width,a=e.height;return r.a.createElement("div",{className:"DrawingCanvas row container-fluid "},r.a.createElement("div",{className:"col canvas-container",ref:"container"},r.a.createElement("canvas",{ref:"canvas",className:"canvas-border",width:t,height:a,onMouseDown:this.mouseDown,onMouseMove:this.mouseMove,onMouseUp:this.mouseUp}),r.a.createElement("canvas",{ref:"canvasTemp",width:t,height:a,onMouseDown:this.mouseDown,onMouseMove:this.mouseMove,onMouseUp:this.mouseUp})))}}]),t}(n.Component));var pe=Object(s.b)(function(e){return{drawing:e.drawing}},function(e){return{setCanvasReference:function(t){return e(Y(t))}}})(de);a(54);function ge(e){if(null!==e){var t=e.toDataURL("image/jpeg").replace(/^data:image\/[^;]+/,"data:application/octet-stream"),a=document.createElement("a");a.href=t,a.download="image.jpg",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}ie.b.add(oe.f),ie.b.add(oe.e),ie.b.add(oe.c),ie.b.add(oe.g),ie.b.add(oe.b),ie.b.add(oe.j),ie.b.add(oe.h),ie.b.add(oe.i);var fe=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(G.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).changeDrawMode=function(e){a.props.setDrawMode(e)},a.changePaintSize=function(e){a.props.setPaintSize(e.target.value)},a.changeColor=function(e){a.props.setColor(e.target.value)},a.changeFillMode=function(){a.props.changeFillMode()},a.clearCanvas=function(){he.clearCanvas(a.props.drawing.canvasRef)},a.saveAsJpg=function(){ge(a.props.drawing.canvasRef)},a}return Object(J.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this,t=this.props.drawing,a=t.drawMode,n=t.paintSize,c=t.color,i=t.isFill;return r.a.createElement("div",{className:"DrawingButtons navbar-coloring-buttons"},r.a.createElement("ul",{className:"navbar-nav mr-auto paint-bar"},r.a.createElement("li",{className:"nav-item paint-size-container"},r.a.createElement("input",{id:"paintSize",type:"range",className:"custom-range paint-size",min:"1",max:"50",value:n,onChange:this.changePaintSize,title:"Choose color"}),r.a.createElement("span",{className:"badge badge-success paint-size-val"},n,"px")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("input",{type:"color",className:"btn paint-color",value:c,onChange:this.changeColor})),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"btn buttons-color",type:"button",onClick:this.changeFillMode,title:"Fill or stroke mode"},i?r.a.createElement(se.a,{icon:"square-full"}):r.a.createElement(se.a,{icon:"vector-square"})),r.a.createElement("button",{className:"btn mx-2 buttons-color",type:"button",onClick:this.clearCanvas,title:"Clear canvas"},r.a.createElement(se.a,{icon:"trash-alt"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{"data-mode":b,className:"btn button-mode ".concat(a===b&&"selected"),type:"button",onClick:function(){return e.changeDrawMode(b)},title:"Draw"},r.a.createElement(se.a,{icon:"pencil-alt"})),r.a.createElement("button",{"data-mode":v,className:"btn button-mode ".concat(a===v&&"selected"),type:"button",onClick:function(){return e.changeDrawMode(v)},title:"Draw line"},r.a.createElement(se.a,{icon:"minus"})),r.a.createElement("button",{"data-mode":E,className:"btn button-mode button-square ".concat(a===E&&"selected"),type:"button",onClick:function(){return e.changeDrawMode(E)},title:"Draw rectangle"},r.a.createElement(se.a,{icon:"square"})),r.a.createElement("button",{"data-mode":E,className:"btn button-mode button-square ".concat(a===C&&"selected"),type:"button",onClick:function(){return e.changeDrawMode(C)},title:"Draw circle"},r.a.createElement(se.a,{icon:"circle"})),r.a.createElement("button",{"data-mode":E,className:"btn button-mode button-square ".concat(a===w&&"selected"),type:"button",onClick:function(){return e.changeDrawMode(w)},title:"Draw triangle"},r.a.createElement(se.a,{className:"triangle-icon",icon:"caret-up"}))),r.a.createElement("li",{className:"nav-item button-save"},r.a.createElement("button",{type:"button",className:"btn buttons-color",onClick:this.saveAsJpg},"Save as *.jpg"))))}}]),t}(n.Component);var be=Object(s.b)(function(e){return{drawing:e.drawing}},function(e){return{setDrawMode:function(t){return e(function(e){return{type:h,drawMode:e}}(t))},setPaintSize:function(t){return e(function(e){return{type:d,paintSize:e}}(t))},setColor:function(t){return e(function(e){return{type:p,color:e}}(t))},changeFillMode:function(){return e({type:f})}}})(fe);a(56);ie.b.add(oe.a);var ve=function(e){function t(){return Object(z.a)(this,t),Object(G.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Drawing"},r.a.createElement("nav",{className:"navbar-coloring navbar-expand-sm"},r.a.createElement("div",{className:"navbar-coloring-brand"},r.a.createElement($.a,{to:"/",className:"noHover"},r.a.createElement("span",{className:"back-icon"},r.a.createElement(se.a,{icon:"angle-left",className:"scale2x"})),r.a.createElement("span",{className:"navbar-brand"},"Drawing"))),r.a.createElement(be,null)),r.a.createElement(pe,null))}}]),t}(n.Component),Ee=(a(58),function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(G.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).saveAsJpg=function(){ge(a.props.canvasRef)},a}return Object(J.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.props.isLoaded;return r.a.createElement("nav",{className:"CpHeader navbar navbar-expand-sm"},r.a.createElement("div",{className:"Brand"},r.a.createElement($.a,{className:"Back",to:"/"},r.a.createElement("span",{className:"back-icon"},r.a.createElement(se.a,{icon:"angle-left",className:"scale2x"})),r.a.createElement("span",{className:"navbar-brand"},"Change Parameters"))),r.a.createElement("div",{className:"nav-item button-save",style:{display:e?"inline":"none"}},r.a.createElement("button",{type:"button",className:"btn btn-save",onClick:this.saveAsJpg},"Save as *.jpg")))}}]),t}(n.Component)),Ce=Object(s.b)(function(e){return{isLoaded:e.parameters.isLoaded,canvasRef:e.parameters.canvasRef}})(Ee),we=(a(60),function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(G.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).changeBrightness=function(e){a.props.setBrightness(e.target.value)},a.changeContrast=function(e){a.props.setContrast(e.target.value)},a.changeSaturation=function(e){a.props.setSaturation(e.target.value)},a.changeVignetting=function(e){a.props.setVignetting(e.target.value)},a.changeNumberOfShades=function(e){a.props.setNumberOfShades(e.target.value)},a.changeBlackAndWhite=function(e){a.props.setBlackAndWhite(e.target.checked)},a.changeInvertedColor=function(e){a.props.setInvertedColor(e.target.checked)},a.changeRed=function(e){a.props.setRed(e.target.checked)},a.changeGreen=function(e){a.props.setGreen(e.target.checked)},a.changeBlue=function(e){a.props.setBlue(e.target.checked)},a.mouseDown=function(){a.props.setAbleToChange(!1)},a.mouseUp=function(){a.props.setAbleToChange(!0)},a}return Object(J.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this,t=this.props.parameters,a=t.brightness,n=t.contrast,c=t.saturation,i=t.vignetting,s=t.numberOfShades,o=t.blackAndWhite,l=t.invertedColor,u=t.red,m=t.green,h=t.blue,d=t.isLoaded,p=d?"":"grayscale(0.9) opacity(0.4)";return r.a.createElement("div",{className:"InputsRange",style:{filter:p}},r.a.createElement(Z.c,null,r.a.createElement(Z.a,{md:4,xl:4},r.a.createElement("label",{className:"CheckBox",onDoubleClick:function(){return e.props.setRed(!0)}},"r",r.a.createElement("input",{type:"checkbox",id:"red",disabled:!d,onChange:this.changeRed,checked:u}),r.a.createElement("span",{className:"Checkmark"}))),r.a.createElement(Z.a,{md:4,xl:4},r.a.createElement("label",{className:"CheckBox",onDoubleClick:function(){return e.props.setGreen(!0)}},"g",r.a.createElement("input",{type:"checkbox",id:"blue",disabled:!d,onChange:this.changeGreen,checked:m}),r.a.createElement("span",{className:"Checkmark"}))),r.a.createElement(Z.a,{md:4,xl:4},r.a.createElement("label",{className:"CheckBox",onDoubleClick:function(){return e.props.setBlue(!0)}},"b",r.a.createElement("input",{type:"checkbox",id:"green",disabled:!d,onChange:this.changeBlue,checked:h}),r.a.createElement("span",{className:"Checkmark"})))),r.a.createElement("hr",null),r.a.createElement(Z.c,null,r.a.createElement(Z.a,null,r.a.createElement("label",{for:"Brightness",onDoubleClick:function(){return e.props.setBrightness(0)}},"Brightness: ",a),r.a.createElement("input",{type:"range",class:"Range custom-range",min:"-255",max:"255",step:"1",id:"brightness",value:a,disabled:!d,onInput:this.changeBrightness,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp}))),r.a.createElement(Z.c,null,r.a.createElement(Z.a,null,r.a.createElement("label",{for:"Contrast",onDoubleClick:function(){return e.props.setContrast(0)}},"Contrast: ",n),r.a.createElement("input",{type:"range",class:"Range custom-range",min:"-255",max:"255",step:"1",id:"contrast",value:n,disabled:!d,onChange:this.changeContrast,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp}))),r.a.createElement(Z.c,null,r.a.createElement(Z.a,null,r.a.createElement("label",{for:"Saturation",onDoubleClick:function(){return e.props.setSaturation(1)}},"Saturation: ",c),r.a.createElement("input",{type:"range",class:"Range custom-range",min:"0",max:"2",step:"0.01",id:"saturation",value:c,disabled:!d,onChange:this.changeSaturation,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp}))),r.a.createElement(Z.c,null,r.a.createElement(Z.a,null,r.a.createElement("label",{for:"Vignetting",onDoubleClick:function(){return e.props.setVignetting(0)}},"Vignetting: ",i),r.a.createElement("input",{type:"range",class:"Range custom-range",min:"0",max:"1",step:"0.01",id:"vignetting",value:i,disabled:!d,onChange:this.changeVignetting,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp}))),r.a.createElement(Z.c,null,r.a.createElement(Z.a,null,r.a.createElement("label",{for:"Number Of Shades",onDoubleClick:function(){return e.props.setNumberOfShades(0)}},"Number Of Shades: ",s),r.a.createElement("input",{type:"range",class:"Range custom-range",min:"0",max:"16",step:"1",id:"numberOfShades",value:s,disabled:!d,onChange:this.changeNumberOfShades,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp}))),r.a.createElement("hr",null),r.a.createElement(Z.c,null,r.a.createElement(Z.a,null,r.a.createElement("label",{className:"CheckBox",onDoubleClick:function(){return e.props.setBlackAndWhite(!1)}},"Black and White",r.a.createElement("input",{type:"checkbox",id:"blackAndWhite",disabled:!d,checked:o,onChange:this.changeBlackAndWhite}),r.a.createElement("span",{className:"Checkmark"})))),r.a.createElement(Z.c,null,r.a.createElement(Z.a,null,r.a.createElement("label",{className:"CheckBox",onDoubleClick:function(){return e.props.setInvertedColor(!1)}},"Inverted Color",r.a.createElement("input",{type:"checkbox",id:"invertedColor",disabled:!d,checked:l,onChange:this.changeInvertedColor}),r.a.createElement("span",{className:"Checkmark"})))),r.a.createElement("hr",null),r.a.createElement(Z.c,null,r.a.createElement(Z.a,{md:4,xl:9}),r.a.createElement(Z.a,{md:4,xl:3},r.a.createElement("button",{className:"btn btn-info btn-lg ClearParameters",type:"reset",onClick:this.props.resetParameters}," Reset"))))}}]),t}(n.Component));var Oe=Object(s.b)(function(e){return{parameters:e.parameters}},function(e){return{setBrightness:function(t){return e(function(e){return{type:N,brightness:parseInt(e)}}(t))},setContrast:function(t){return e(function(e){return{type:k,contrast:parseInt(e)}}(t))},setSaturation:function(t){return e(function(e){return{type:S,saturation:parseFloat(e)}}(t))},setVignetting:function(t){return e(function(e){return{type:x,vignetting:parseFloat(e)}}(t))},setNumberOfShades:function(t){return e(function(e){return{type:T,numberOfShades:parseFloat(e)}}(t))},setBlackAndWhite:function(t){return e(function(e){return{type:D,blackAndWhite:e}}(t))},setInvertedColor:function(t){return e(function(e){return{type:R,invertedColor:e}}(t))},setRed:function(t){return e(function(e){return{type:M,red:e}}(t))},setGreen:function(t){return e(function(e){return{type:I,green:e}}(t))},setBlue:function(t){return e(function(e){return{type:A,blue:e}}(t))},resetParameters:function(){return e(X())},setAbleToChange:function(t){return e(function(e){return{type:U,ableToChange:e}}(t))}}})(we);a(62);function ye(e){return e<0?0:e>255?255:e}function je(e,t,a,n){return{r:e=ye(e+n),g:t=ye(t+n),b:a=ye(a+n)}}function Ne(e,t,a,n){var r=259*(n+255)/(255*(259-n));return{r:e=ye(r*(e-128)+128),g:t=ye(r*(t-128)+128),b:a=ye(r*(a-128)+128)}}function ke(e,t,a,n){var r=Math.sqrt(e*e*.299+t*t*.587+a*a*.114);return{r:e=ye(r+(e-r)*n),g:t=ye(r+(t-r)*n),b:a=ye(r+(a-r)*n)}}function Se(e,t,a,n){if(0===n)return{r:e,g:t,b:a};var r=255/n,c=parseInt((e+t+a)/3/r+.5)*r;return{r:e=ye(c),g:t=ye(c),b:a=ye(c)}}function xe(e,t,a,n){if(!1===n)return{r:e,g:t,b:a};var r=.2126*e+.7152*t+.0722*a;return{r:e=ye(r),g:t=ye(r),b:a=ye(r)}}function Te(e,t,a,n){return!1===n?{r:e,g:t,b:a}:{r:e=255-e,g:t=255-t,b:a=255-a}}var De=function(e){function t(){return Object(z.a)(this,t),Object(G.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.canvas;this.props.setCanvasReference(this.refs.canvas),this.ctx=t.getContext("2d");var a=this.refs.image;a.onload=function(){e.ctx.clearRect(0,0,e.props.width,e.props.height),e.ctx.drawImage(a,0,0)}}},{key:"componentDidUpdate",value:function(){if(!1!==this.props.parameters.ableToChange){this.ctx.clearRect(0,0,this.props.width,this.props.height),this.ctx.drawImage(this.refs.image,0,0),0!==this.props.parameters.vignetting&&(this.ctx.fillStyle=function(e,t,a,n){if(0!==n){var r=a.createRadialGradient(e/2,t/2,e/8,e/2,t/2,1/n*e/4);return r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,0.8)"),r}}(this.props.width,this.props.height,this.ctx,this.props.parameters.vignetting),this.ctx.fillRect(0,0,this.props.width,this.props.height));var e=this.ctx.getImageData(0,0,this.props.width,this.props.height);!function(e,t){for(var a=0;a<t.length;a+=4){var n=Te(t[a],t[a+1],t[a+2],e.invertedColor);n=Se((n=ke((n=Ne((n=je((n=xe(n.r,n.g,n.b,e.blackAndWhite)).r,n.g,n.b,e.brightness)).r,n.g,n.b,e.contrast)).r,n.g,n.b,e.saturation)).r,n.g,n.b,e.numberOfShades),!1===e.red&&(n.r=0),!1===e.green&&(n.g=0),!1===e.blue&&(n.b=0),t[a]=n.r,t[a+1]=n.g,t[a+2]=n.b}}(this.props.parameters,e.data),this.ctx.putImageData(e,0,0)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"CpCanvas",style:{maxWidth:this.props.width+18}},r.a.createElement("canvas",{ref:"canvas",width:this.props.width,height:this.props.height}),r.a.createElement("img",{ref:"image",src:this.props.name,alt:"",className:"hidden"}))}}]),t}(n.Component);var Re=Object(s.b)(function(e){return{parameters:e.parameters}},function(e){return{setCanvasReference:function(t){return e(Y(t))}}})(De);a(64);var Me=function(e){function t(e){var a;return Object(z.a)(this,t),(a=Object(G.a)(this,Object(H.a)(t).call(this,e))).getImageSize=function(e){a.setState({width:null,height:null});var t=URL.createObjectURL(e),n=new Image;n.onload=function(){var e=n.width,t=n.height;a.setState({width:e,height:t})},n.src=t},a.getInfoAboutPhoto=function(){var e=a.state,t=e.width,n=e.height;if(!1===(t>0&&n>0))return"Module preffers max. 5 Mpix photo";var c=function(e,t){return(e*t/1e6).toFixed(2)}(t,n),i=function(e,t){return e*t/1e6>5.5}(t,n)?r.a.createElement("span",{className:"warning"}," Your photo is too big. Scripts may works slowly. "):null;return r.a.createElement("span",{className:"px-3"},r.a.createElement("b",null,c," Mpix")," (",t," x ",n,"). ",i)},a.state={file:"",imageViewUrl:"",height:null,width:null},a}return Object(J.a)(t,e),Object(V.a)(t,[{key:"_handleImageChange",value:function(e){var t=this;e.preventDefault(),this.props.setIsLoaded(!1),this.props.resetParameters();var a=new FileReader,n=e.target.files[0];this.getImageSize(n),a.onloadend=function(){t.props.setIsLoaded(!0),t.setState({file:n,imageViewUrl:a.result})},a.readAsDataURL(n)}},{key:"render",value:function(){var e=this,t=this.state.imageViewUrl,a=t&&this.state.width>0&&this.state.height>0?r.a.createElement(Re,{width:this.state.width,height:this.state.height,name:t}):r.a.createElement("div",{className:"canvasHolder"},"Please select an Image",r.a.createElement("br",null),r.a.createElement("canvas",{width:1920,height:1080}));return r.a.createElement("div",{className:"ChooseImage"},r.a.createElement("form",null,r.a.createElement("input",{className:"fileInput",type:"file",onChange:function(t){return e._handleImageChange(t)}}),this.getInfoAboutPhoto()),a)}}]),t}(n.Component);var Ie=Object(s.b)(function(e){return{parameters:e.parameters}},function(e){return{resetParameters:function(){return e(X())},setIsLoaded:function(t){return e(function(e){return{type:L,isLoaded:e}}(t))}}})(Me),Ae=function(e){function t(){return Object(z.a)(this,t),Object(G.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){this.props.resetStore()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ce,null),r.a.createElement(Z.b,{fluid:!0},r.a.createElement(Z.c,null,r.a.createElement(Z.a,{md:4,xl:3},r.a.createElement(Oe,null)),r.a.createElement(Z.a,{md:8,xl:9},r.a.createElement(Ie,null)))))}}]),t}(n.Component);var Fe=Object(s.b)(function(){return{}},function(e){return{resetStore:function(){return e({type:_})}}})(Ae);a(66);ie.b.add(oe.a),ie.b.add(oe.d);var _e=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(G.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).saveAsJpg=function(){ge(a.refs.canvas)},a}return Object(J.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.image,a=this.props.filters.imageURL;t&&a?t.onload=function(){var a=e.refs.canvas.getContext("2d");a.clearRect(0,0,e.props.filters.width,e.props.filters.height),a.filter=e.props.filters.selectedFilter.specification,a.drawImage(t,0,0)}:this.props.history.push("/Filters")}},{key:"render",value:function(){var e=this.props.filters,t=e.imageURL,a=e.selectedFilter,n=e.width,c=e.height;return t?r.a.createElement("div",{className:"Filters"},r.a.createElement("nav",{className:"navbar navbar-expand-sm"},r.a.createElement("div",{className:"Brand"},r.a.createElement($.a,{className:"Back",to:"/Filters"},r.a.createElement("span",{className:"back-icon"},r.a.createElement(se.a,{icon:"angle-left",className:"scale2x"})),r.a.createElement("span",{className:"navbar-brand"},"Filters",r.a.createElement(se.a,{icon:"long-arrow-alt-right",className:"mx-3"}),a.name))),r.a.createElement("div",{className:"mx-4"},r.a.createElement("button",{type:"button",className:"btn btn-save",onClick:this.saveAsJpg},"Save as *.jpg"))),r.a.createElement("div",{className:"Photo justify-content-center"},r.a.createElement("div",{className:"full-view"},r.a.createElement("img",{ref:"image",className:"max-foto-size",style:{filter:a.specification},src:t,alt:a.name}),r.a.createElement("canvas",{ref:"canvas",width:n,height:c,className:"hidden"})))):r.a.createElement("div",null,"Go back and select image first.")}}]),t}(n.Component);var Le=Object(s.b)(function(e){return{filters:e.filters}},function(e){return{}})(_e),Ue=(a(68),function(e){function t(){return Object(z.a)(this,t),Object(G.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(q.a,{path:"/",exact:!0,strict:!0,component:ae}),r.a.createElement(q.a,{path:"/ChangeParameters",component:Fe}),r.a.createElement(q.a,{path:"/Filters",exact:!0,strict:!0,component:ue}),r.a.createElement(q.a,{path:"/Filters/View",component:Le}),r.a.createElement(q.a,{path:"/Drawing",component:ve}))}}]),t}(n.Component)),Be={contactsFetched:function(e){return{type:"FETCH_CONTACTS_SUCCESS",contacts:e}}},Pe=Object(K.a)(Object(s.b)(function(e){return{contacts:e.contacts}},Be)(Ue)),We=function(){return r.a.createElement(s.a,{store:W},r.a.createElement(o.a,{basename:"/ImageChanger"},r.a.createElement(Pe,null)))};i.a.render(r.a.createElement(We,null),document.getElementById("root"))}},[[36,2,1]]]);
//# sourceMappingURL=main.160cb40c.chunk.js.map